<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Digital Potentiometer Evaluation | Project Hub</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Digital Potentiometer Evaluation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Central hub to the repositories of my projects." />
<meta property="og:description" content="Central hub to the repositories of my projects." />
<link rel="canonical" href="http://localhost:4000/digiPots.html" />
<meta property="og:url" content="http://localhost:4000/digiPots.html" />
<meta property="og:site_name" content="Project Hub" />
<script type="application/ld+json">
{"description":"Central hub to the repositories of my projects.","@type":"WebPage","url":"http://localhost:4000/digiPots.html","headline":"Digital Potentiometer Evaluation","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">Project Hub</a></h1>
        
        

        <p>Central hub to the repositories of my projects.</p>

        
        
        <!-- inhaltsverzeichnis test-->
        <!--<h2>Contents</h2>
        <ul class="seitenmenue">
           
              <li><a href="/">Welcome</a></li>
           
              <li><a href="/dPotDimmer.html">Apple Home Enabled Horticulture Lighting</a></li>
           
              <li><a href="/digiPots.html">Digital Potentiometer Evaluation</a></li>
           
              <li><a href="/HM7044_repair.html">HM7044 Repair</a></li>
           
              <li><a href="/ism_brir.html">Image Source Modelling</a></li>
           
              <li><a href="/lowJitterLimiter.html">Low Jitter Hard Limiter Design Tool</a></li>
           
              <li><a href="/PNmeas.html">Phase Noise Measurement System for Audio DACs</a></li>
           
              <li><a href="/SerParCalc.html">Series/Parallel Resistance Calculator</a></li>
           
              <li><a href="/pcbs.html">Layouts and PCBs</a></li>
           
              <li><a href="/LTSpice.html">LTSpice Simulations</a></li>
           
              <li><a href="/revEng_ClassG.html">Class G Modulator Reverse Engineering</a></li>
           
              <li><a href="/channelStrip.html">Channelstrip</a></li>
           
              <li><a href="/PlantPi.html">PlantPi server</a></li>
           
              <li><a href="/homePi.html">Homebridge Pi</a></li>
           
        </ul>-->
        
        <h2>Contents</h2>
        <ul class="seitenmenue">
        
            <li class="">
              <a href="/">Welcome</a>
            </li>
        
            <li class="">
              <a href="/dPotDimmer.html">Apple Home Enabled Horticulture Lighting</a>
            </li>
        
            <li class="active">
              <a href="/digiPots.html">Digital Potentiometer Evaluation</a>
            </li>
        
            <li class="">
              <a href="/HM7044_repair.html">HM7044 Repair</a>
            </li>
        
            <li class="">
              <a href="/ism_brir.html">Image Source Modelling</a>
            </li>
        
            <li class="">
              <a href="/lowJitterLimiter.html">Low Jitter Hard Limiter Design Tool</a>
            </li>
        
            <li class="">
              <a href="/PNmeas.html">Phase Noise Measurement System for Audio DACs</a>
            </li>
        
            <li class="">
              <a href="/SerParCalc.html">Series/Parallel Resistance Calculator</a>
            </li>
        
            <li class="">
              <a href="/pcbs.html">Layouts and PCBs</a>
            </li>
        
            <li class="">
              <a href="/LTSpice.html">LTSpice Simulations</a>
            </li>
        
            <li class="">
              <a href="/revEng_ClassG.html">Class G Modulator Reverse Engineering</a>
            </li>
        
            <li class="">
              <a href="/channelStrip.html">Channelstrip</a>
            </li>
        
            <li class="">
              <a href="/PlantPi.html">PlantPi server</a>
            </li>
        
            <li class="">
              <a href="/homePi.html">Homebridge Pi</a>
            </li>
        
        </ul>
        
        
        
        <p class="view"><a href="https://www.gitshowcase.com/borisjung">View My GitShowcase Profile</a></p>
        
        
        
        
        
        
      </header>
      <section>
      <!-- Anzeige der aktuellen page.url variable:
      /digiPots.html
      -->
      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(under construction)
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/digiPots.jpg" /></p>

<h1 id="evaluation-of-general-purpose-digital-potentiometers">Evaluation of general purpose digital potentiometers</h1>

<p><a id="forkme_banner" href="https://github.com/BorisJung/digiPots">View GitHub Repository</a></p>

<p>Since I’ve encountered and actually have debugged circuits that used digital potentiometers but never really used them in a design myself, I wanted to start a simple evaluation of cheap general purpose models, which shall be logged here.</p>

<p>The first practical application will be using a digital potentiometer to replace the 10V-pwm circuitry, which I’m currently using to dim some LED fixtures using a MeanWell powersupply with 3-in-1 dimming function. (see page 4 in <a href="https://www.meanwell-web.com/content/files/pdfs/productPdfs/MW/HLG-40H/HLG-40H-spec.pdf">HLG-40H-20-B datasheets</a>)</p>

<p>This would make the currently needed 10V supply obsolete, reduce physical space as well as unnecessarily wasted energy (although admittedly not very much).</p>

<hr />

<h3 id="first-eval-boards">First eval boards</h3>

<p>The first steps were taken with 2 different cheap general purpose digital potentiometers mounted on <a href="https://www.digikey.de/product-detail/en/adafruit-industries-llc/1212/1528-1071-ND/5022800">multi-package breakout-boards</a> as depicted in Figure 1.</p>

<figure>
<a href="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/1212-04.jpg" target="_blank">
<img src="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/1212-04.jpg" alt="my alt text" /></a><br />
<figcaption style="text-align:left">Fig. 1: Adafruit breakout board for MSOP8/TSSOP8 and SOIC8 packages</figcaption>
</figure>

<p>The two potentiometers currently under evaluation are:</p>

<ul>
  <li>Texas Instruments TPL0501 (<a href="https://www.ti.com/lit/ds/symlink/tpl0501-100.pdf?ts=1594580841545">Datasheet</a>)</li>
  <li>Microchip MCP4141 (<a href="http://ww1.microchip.com/downloads/en/DeviceDoc/22059b.pdf">Datasheet</a>)</li>
</ul>

<p>Both have a nominal value of 100kΩ and can be controlled via <a href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface">SPI interface</a>. The MCP4141 comes in a MSOP8 package, but since a SOT23-8 wasn’t easily available, I mounted the TPL0501 on a MSOP8 breakout board as well, which was feasible for evaluation purposes, should not be attempted for the final application, due to additional mechanic stresses of the solder joints.</p>

<div>
<p>
<figure style="float:left; width:45%">
<a href="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/MCP4141.jpeg" target="_blank">
<img src="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/MCP4141.jpeg" alt="my alt text" /></a><br />
<figcaption style="text-align:left">Fig. 2: MCP4141 mounted on the breakout board</figcaption>
</figure>

<figure style="width:45%">
<a href="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/TPL0501.jpeg" target="_blank">
<img src="https://raw.githubusercontent.com/BorisJung/digiPots/master/pics/TPL0501.jpeg" alt="my alt text" /></a><br />
<figcaption style="text-align:left">Fig. 3: TPL0501 mounted on the breakout board</figcaption>
</figure>
</p>
</div>

<p><br /></p>

<p>In the final LED-dimming application mentioned above, the will be controlled by a raspberry pi zero w. For developing purposes however, an <a href="https://www.adafruit.com/product/2264">Adafruit FT232H Breakout Board</a>, which allows communication between USB hosts and various interfaces (SPI, I2C, UART), was used.</p>

<hr />

<h3 id="first-test-script">First test script</h3>

<p>Tests with the TPL0501 using the following simple python script were succesful:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import time

from board import *
import busio
import digitalio

from adafruit_bus_device.spi_device import SPIDevice

with busio.SPI(SCK, MOSI, MISO) as spi_bus:
    cs = digitalio.DigitalInOut(D4)
    device = SPIDevice(spi_bus, cs)

    # temp. helper variables
    ba_full = bytearray([255])
    ba_zero = bytearray([0])
    print(ba_zero)
    print(ba_full)

    # Write Transaction
    with device as spi:
        print('switch to zero')
        cs.value=False
        spi.write(bytearray(1))
        cs.value = True
        time.sleep(1)
        print('switch to max resistance')
        cs.value = False
        spi.write(ba_full)
        cs.value = True
</code></pre></div></div>

<hr />

<h3 id="next-steps">Next steps</h3>

<ul>
  <li>writing a simple python driver for the TPL0501 to easily implement in python scripts</li>
  <li>testing MCP4141 with simple script</li>
  <li>writing a driver for MCP4141</li>
  <li>selecting, ordering and evaluating multichannel general purpose digital potentiometers</li>
  <li>selecting, ordering and evaluating precision digital potentiometers</li>
</ul>


      </section>
      
      <!-- original footer:
      <footer>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
      -->
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
  </body>
</html>
